<div style="flex: 0; margin: 10px 10px 0px 10px; display: flex; align-items: center;">
    <mat-form-field style="margin: 5px auto 0 0;" subscriptSizing="dynamic">
        <mat-label>Visualization</mat-label>
        <mat-select #selectVis [(value)]="this.visualization" (valueChange)="changeLevel(level)">
            <mat-option value="matrix">Adjacency Matrix</mat-option>
            <mat-option value="node-link">Node-Link Diagram</mat-option>
        </mat-select>
    </mat-form-field>
    <app-vis-level #visLevel style="align-self: right;" [allowNodeLevel]="visualization == 'node-link'" (levelChange)="changeLevel($event)"></app-vis-level>
</div>
<br>
<div #container class="fit-height" (wheel)="visLevel.onChange($event)">
    @if (visualization == "matrix") {
        <app-vis-matrix #matrix style="height: 100%;" [level]="level"></app-vis-matrix>
    } @else if (visualization == "node-link") {
        @if (nl1) {
            <app-vis-node-link #nodeLink class="absolute" [@showHide]="combineClusters ? 'hidden' : 'shown'" [class.ignore-pointer]="combineClusters" [combineClusters]="combineClustersImmediate" [transform]="transform" [nodeColor]="toggleNodeColor.checked" [edgeColor]="toggleEdgeColor.checked" [nodeSize]="toggleNodeSize.checked" [edgeHighlight]="toggleEdgeHighlight.checked"></app-vis-node-link>
        }
        @if (nl2) {
            <app-vis-node-link-2 #nodeLink2 class="absolute"  [@showHide]="combineClusters ? 'shown' : 'hidden'" [class.ignore-pointer]="!combineClusters" [transform]="transform" [level]="level" [circularLayout]="toggleCircular.checked" [nodeColor]="toggleNodeColor.checked" [edgeColor]="toggleEdgeColor.checked" [nodeSize]="toggleNodeSize.checked"></app-vis-node-link-2>
        }
        <mat-button-toggle-group multiple hideMultipleSelectionIndicator class="button-toggles">
            <mat-button-toggle #toggleCircular [matTooltip]="level != 0 ? 'Circular layout' : 'Circular layout (only on higher levels)'"><img src="assets/circular.png" width="32px" height="32px"></mat-button-toggle>
            <mat-button-toggle #toggleNodeColor [matTooltip]="level == 0 ? 'Node coloring' : 'Node coloring (only on lowest level)'" checked><img src="assets/color_nodes.png" width="32px" height="32px"></mat-button-toggle>
            <mat-button-toggle #toggleEdgeColor [matTooltip]="level == 0 ? 'Edge coloring' : 'Edge coloring (only on lowest level)'" checked><img src="assets/color_edges.png" width="32px" height="32px"></mat-button-toggle>
            <mat-button-toggle #toggleNodeSize matTooltip="Scale nodes with degree / cluster size"><img src="assets/node_radius.png" width="32px" height="32px"></mat-button-toggle>
            <mat-button-toggle #toggleEdgeHighlight matTooltip="Highight selected edges" checked><img src="assets/highlight_edge.png" width="32px" height="32px"></mat-button-toggle>
            <mat-button-toggle #toggleEdgeRatio matTooltip="Show node ratio on edges"><img src="assets/wedge.png" width="32px" height="32px"></mat-button-toggle>
            <!-- <mat-button-toggle matTooltip="Show effective edges from other levels"><img src="assets/dashed_edge.png" width="32px" height="32px"></mat-button-toggle> -->
        </mat-button-toggle-group>
    }
</div>
